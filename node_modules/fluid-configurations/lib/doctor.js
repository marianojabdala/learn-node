var issues = [],
  debug = require("debug")("fluid-s3-doctor"),
  format = require("util").format;

require("colors");

/*
Wrap issues so we can run it a programmatic way carrying out past issues
 */

module.exports = {

  addIssue: function () {
    var message = format.apply(null, [].slice.call(arguments));
    debug("[error] %s".red, message);
    issues.push(message);
  },

  diagnose: function () {
    if (issues.length) {
      console.log("\ns3 config doctor diagnose:\n".red);
      console.log(issues.join("\n").red);
    }
  }

};
