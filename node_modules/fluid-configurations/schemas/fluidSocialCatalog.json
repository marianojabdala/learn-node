{
  "type": "object",
  "$schema": "http://json-schema.org/draft-03/schema",
  "id": "fluidSocialCatalog",
  "required": true,
  "properties": {
    "apiKey": {
      "type": "string",
      "title": "API key",
      "description": "Customer API key for performing requests on api.fluidretail.net",
      "id": "apiKey",
      "required": true
    },
    "catalogId": {
      "type": "number",
      "title": "Catalog ID",
      "description": "Social Catalog ID",
      "id": "catalogId",
      "required": true
    },
    "configurationAttributes": {
      "type": "array",
      "title": "Configuration attributes",
      "description": "List of configuration attributes used on the template",
      "id": "http://schema.fluidretail.net/configurationAttributes",
      "required": false,
      "items": {
        "type": "string",
        "id": "http://schema.fluidretail.net/configurationAttributes/0",
        "required": false
      }
    },
    "defaultLocale": {
      "type": "string",
      "title": "Default Locale",
      "description": "Default locale for the catalog. Required on monolingual systems as well.",
      "id": "http://schema.fluidretail.net/defaultLocale",
      "required": true
    },
    "dictionary": {
      "type": "object",
      "title": "Localisation Dictionary",
      "description": "locale: {key: value} pairs for handling localization. For performance and size reasons only entries found on the index or on the template will be included.",
      "id": "http://schema.fluidretail.net/dictionary",
      "required": true
    },
    "environment": {
      "type": "string",
      "title": "Environment",
      "description": "Runtime environment",
      "id": "environment",
      "required": true
    },
    "gridSettings": {
      "type": "object",
      "title": "Grid Settings",
      "description": "Configurable via the Fluid Retail admin interface, these settings allow you to define the UI of the search grid refinements.",
      "id": "http://schema.fluidretail.net/gridSettings",
      "required": false,
      "properties": {
        "controls": {
          "type": "object",
          "id": "http://schema.fluidretail.net/gridSettings/controls",
          "required": false
        },
        "display": {
          "type": "object",
          "id": "http://schema.fluidretail.net/gridSettings/display",
          "required": false,
          "properties": {
            "headerControls": {
              "type": "array",
              "id": "http://schema.fluidretail.net/gridSettings/display/headerControls",
              "required": false
            }
          }
        }
      }
    },
    "locales": {
      "type": "array",
      "title": "Available locales",
      "description": "List of locales this catalog has been published on.",
      "minitems": 1,
      "id": "http://schema.fluidretail.net/locales",
      "required": true,
      "items": {
        "type": "string",
        "id": "http://schema.fluidretail.net/locales/0",
        "required": false
      }
    },
    "products": {
      "type": "array",
      "title": "Products",
      "description": "List of product ids included on this catalog. This information will be used to identify in which catalogs a product recipe should be saved.",
      "minitems": 1,
      "id": "http://schema.fluidretail.net/products",
      "required": true,
      "items": {
        "type": "number",
        "id": "http://schema.fluidretail.net/products/0",
        "required": false
      }
    },
    "searchDomain": {
      "type": "string",
      "title": "Search Domain",
      "description": "Cloud Search Search Domain name",
      "id": "searchDomain",
      "required": true
    },
    "templates": {
      "type": "object",
      "title": "Templates",
      "description": "List of localized social catalog templates",
      "id": "http://schema.fluidretail.net/templates",
      "required": true,
      "properties": {
        "search_hit": {
          "type": "object",
          "id": "http://schema.fluidretail.net/fluidSocialCatalog/templates/search_hit",
          "required": true,
          "patternProperties": {
            "required": true,
            ".+": {
              "type": "object",
              "id": "http://schema.fluidretail.net/fluidSocialCatalog/templates/search_hit/locale",
              "required": true,
              "properties": {
                "engine": {
                  "type": "string",
                  "id": "http://schema.fluidretail.net/fluidSocialCatalog/templates/search_hit/locale/engine",
                  "required": true
                },
                "html": {
                  "type": "string",
                  "id": "http://schema.fluidretail.net/fluidSocialCatalog/templates/search_hit/locale/html",
                  "required": true
                }
              }
            }
          }
        }
      }
    },
    "workflow": {
      "type": "string",
      "title": "Workflow",
      "description": "Workflow where this configuration has been published",
      "id": "workflow",
      "required": true
    }
  }
}