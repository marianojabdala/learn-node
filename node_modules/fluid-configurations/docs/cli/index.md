# fluid-configurations index

The `fluid-configurations index` command scans S3 for published
configurations and collects basic information based on the rules
defined by the fluid-configurations module at on
lib/published_information/ and lib/configure/indices

At glance the following tasks are performed in order to
build an index.

- Get all customer ids and workflows for an environment
- For each customer get all the
  - Catalogs ID's and the workflows where they are included
  - Product ID's and the workflows where they are included
- Get all customer configuration indexes [filterable]
- Get all catalog configuration indexes [filterable]
- Get all catalog template indexes [filterable]
- Get all catalog localization file indexes [filterable]
- Get all product configuration indexes [filterable]
- Get all product localization file indexes [filterable]

Some steps can be filtered by passing one of the following filter
options:

- --workflow Restrict to a single workflow
- --customers Restrict to a single or a list of customers.
- --products Restrict to a single or a list of products.
- --catalogs Restrict to a single or a list of catalogs.

The index will be cached by default during 5 minutes.

Example:

    fluid-configurations index --customers 1443 --workflow prod --environment prod

